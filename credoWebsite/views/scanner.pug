doctype html
head
  meta(charset='UTF-8')
  meta(http-equiv='X-UA-Compatible' content='IE=edge')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  link(rel='stylesheet' href='/stylesheets/style.css')
  script(src='https://unpkg.com/html5-qrcode' type='text/javascript')
  link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css', integrity='sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==', crossorigin='anonymous', referrerpolicy='no-referrer')
  title QR Code Scanner

//Navbar
nav.flex.justify-around.items-center.text-xl.p-2.border-b-2
      .flex
        img.w-16(src='/images/logo.png', alt='')
        .justify-around.items-center.mx-5.hidden(class='lg:flex')
          a.mx-2.inline-block(class='hover:text-blue-900', href='/') Home
          a.mx-2.inline-block(class='hover:text-blue-900', href='') About
          a.mr-2.inline-block.text-blue-900(href='/batch') Batch
          
      // Mobile Anchors
      .justify-around.items-center.mx-5.flex(class='lg:hidden')
        a.mr-2.inline-block.text-blue-900(href='') Home
        a.mx-2.inline-block(class='hover:text-blue-900', href='') About
      // Searchbar
      .flex
        .hidden.text-base(class='lg:flex')
          input.p-1.bg-slate-200.rounded-l-lg(type='text', placeholder='Search..', class='focus:outline-none')
          .flex.justify-center.items-center.bg-blue-900.p-1.rounded-r-lg
            i.fa.fa-search.text-white(aria-hidden='true')
        .flex.text-2xl.justify-center.items-center(class='lg:ml-3')
          .mx-1(class='lg:hidden')
            i.fa.fa-search(aria-hidden='true')
          i.fa-brands.fa-twitter.text-blue-500.mx-1(class='hover:cursor-pointer')
          i.fa-brands.fa-facebook.text-blue-800.mx-1(class='hover:cursor-pointer')
          i.fa-brands.fa-instagram.text-pink-600.mx-1(class='hover:cursor-pointer')
// Body
.h-screen.flex.justify-center.pt-5
  .mt-16(class='w-1/2')
    #reader
    #result
script.
    const scanner = new Html5QrcodeScanner('reader', {
            qrbox: {
                width: 250,
                height: 250,
            },
            fps: 20,
        });
        scanner.render(success, error);
        function success(result){
            window.location.href = `/scan/${result}`;

            document.getElementById('result').innerHTML = `<h2>Success!</h2>
            <p>${result}</p>`;
            
            scanner.clear();
            document.getElementById('reader').remove();
        }
        function error(err){
            console.error(err);
        }